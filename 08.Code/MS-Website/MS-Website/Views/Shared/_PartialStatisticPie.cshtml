@model int[]

@*//watting,expired,approved,applied
var numberStatistic = new int[5] {1, 2, 3, 4, 5};*@

<input value=@Model[0] type="number" id="wattingInput" hidden/>
<input value=@Model[1] type="number" id="expiredInput" hidden/>
<input value=@Model[2] type="number" id="approvedInput" hidden/>
<input value=@Model[3] type="number" id="appliedInput" hidden/>
<input value=@Model[4] type="number" id="hideInput" hidden/>

@*
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript">
    google.load("visualization", "1", {packages:["corechart"]});
    google.setOnLoadCallback(drawChart);
    function drawChart() {

        var data = google.visualization.arrayToDataTable([
            ['Yêu cầu', 'Yêu cầu'],
            ['Đang chờ', parseInt($('#wattingInput').val())],
            ['Hết hạn', parseInt($('#expiredInput').val())],
            ['Đã phản hồi', parseInt($('#approvedInput').val())],
            ['Đã nhận', parseInt($('#appliedInput').val())]
        ]);

        var options = {
            title: ''
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart'));

        chart.draw(data, options);
    }
</script>

<div id="piechart" style="width: 900px;height: 500px;margin-left: -126px;margin-top: -14px;position: relative;"></div>
*@


<script src="~/Content/Chart.js/src/Chart.min.js"></script>

<div class="row">
    <div class="col-md-9">
        <div id="canvas-holder">
			<canvas id="chart-area"  height="400" width="400"/>
		</div>

    </div>
    <div class="col-md-3">
        <ul class="legend">
            @{
                if (Model[0] != 0)
                {
                    <li><span style="background-color: #428bca"></span>Chờ nhận</li>
                }
                if (Model[1] != 0)
                {
                     <li><span style="background-color:#d9534f"></span>Hết hạn</li>
                }
                if (Model[2] != 0)
                {
                    <li><span style="background-color:#f0ad4e"></span>Hoàn tất</li>
                }
                if (Model[3] != 0)
                {
                      <li><span style="background-color:#5cb85c"></span>Được nhận</li>
                }
                if (Model[4] != 0)
                {
                      <li><span style="background-color:#777"></span>Tạm ẩn</li>
                }
            }
        </ul>
    </div>
</div>


<script>
    var pieData = [
            {
                value: parseInt($('#wattingInput').val()),
                color: "#428bca",
                highlight: "#428bca",
                label: "Chờ nhận"
            },
            {
                value: parseInt($('#expiredInput').val()),
                color: "#d9534f",
                highlight: "#d9534f",
                label: "Hết hạn"
            },
            {
                value: parseInt($('#approvedInput').val()),
                color: "#f0ad4e",
                highlight: "#f0ad4e",
                label: "Hoàn tất"
            },
            {
                value: parseInt($('#appliedInput').val()),
                color: "#5cb85c",
                highlight: "#5cb85c",
                label: "Được nhận"
            },
            {
                value: parseInt($('#hideInput').val()),
                color: "#777",
                highlight: "#777",
                label: "Tạm ẩn"
            }

    ];

    window.onload = function () {
        var ctx = document.getElementById("chart-area").getContext("2d");
        window.myPie = new Chart(ctx).Pie(pieData);
    };
</script>

